<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{common/head}">
<head>
	<title>博客</title>
	<link th:href="@{/css/user/articles.css}" rel="stylesheet">
	<script th:src="@{/js/user/articles.js}"></script>
</head>
<body>
<div layout:fragment="content">
	<div id="main">
		<div id="top">
			<p>[[${user.name}]]的博客</p>
			<p>[[${user.motto}]]</p>
		</div>
		<div id="articles">
			<div class="pull-left" th:text="${title}"></div>
			<div class="pull-right">
				<input type="text" name="keywords" class="form-control " placeholder="搜博主文章">
				<a  class="layui-icon">&#xe615;</a>
			</div>
			<div id="article" style="clear: both;margin-top: 50px;">
			</div>
			<input id="uid" type="hidden" name="uid" th:value="${uid}"/>
			<input id="cid" type="hidden" name="cid" th:value="${cid}?${cid}"/>
		</div>
		<div id="side">
			<div id="user-info">
				<div id="header">
					<img th:src="@{${user.headUrl}}" style="border-radius: 50%;">
					<div>
						<span th:text="${user.name}"></span>
						<button id="follow"
								th:if="(${session.login_user}==null)or((${session.login_user.id}!=${user.id})and((${follow}!=null)and(${follow.status}!='2')))"
								th:class="(${follow}==null)or(${follow.status}=='0')?'unfollow layui-btn layui-btn-sm layui-btn-primary':'follow layui-btn layui-btn-sm'"
								th:text="(${follow}==null)or(${follow.status}=='0')?'关注':'已关注'"></button>
						<button id="mail"
								th:if="(${session.login_user}==null)or((${session.login_user.id}!=${user.id})and((${follow}!=null)and(${follow.status}!='2')))"
								class="layui-btn layui-btn-sm">私信</button>
						<button id="black" th:if="(${session.login_user}==null)or(${session.login_user.id}!=${user.id})"
								th:class="(${follow}==null)or(${follow.status}=='2')?'layui-btn layui-btn-sm black':'layui-btn layui-btn-primary layui-btn-sm white'"
								th:text="(${follow}==null)or(${follow.status}=='2')?'已拉黑':'黑名单'"></button>
						<input type="hidden" id="toUserId" th:value="${user.id}">
						<input type="hidden" id="loginUserId" th:value="${session.login_user}!=null?${session.login_user.id}:''">
					</div>
				</div>
				<div id="num">
					<dl>
						<dt>入驻时间</dt>
						<dd th:text="${#dates.format(user.birth,'yyyy.MM.dd')}"></dd>
					</dl>
					<dl>
						<dt>文章</dt>
						<dd>12</dd>
					</dl>
					<dl>
						<dt>关注</dt>
						<dd>32</dd>
					</dl>
				</div>
			</div>
			<div class="side-list">
				<h3>文章分类</h3>
				<ul class="list">
					<li th:if="${categories} != null and ${#lists.size(categories) > 0}" th:each="category : ${categories}">
						<a th:href="@{/article/list/{uid}/{cid}(uid=${user.id},cid=${category.id})}" th:text="${category.name}">Java基础知识Java基础知识Java基础知识</a>
						<span th:text="${category.articleNum}"></span>
					</li>
				</ul>
				<div style="clear: both"></div>
			</div>
			<div class="side-list">
				<h3>热门文章</h3>
				<ul class="list">
					<li>
						<a href="#">Java基础知识Java基础知识Java基础知识</a>
						<span class="layui-icon">&#xe705 200</span>
					</li>
					<li>
						<a href="#">Java基础知识</a>
						<span class="layui-icon">&#xe705 30</span>
					</li>
				</ul>
				<div style="clear: both"></div>
			</div>
		</div>
		<div style="clear: both;"></div>
	</div>
</div>
</body>
</html>